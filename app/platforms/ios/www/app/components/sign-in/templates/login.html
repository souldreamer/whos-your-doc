<ion-view cache-view="false" view-title="SIGN IN" hide-back-button="true">
  <!--Header-->
  <ion-nav-buttons side="left">
    <button class="button button-clear button-assertive uppercase header-button"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">

    <button ng-click="cancel()" class="button button-clear button-assertive uppercase header-button cancel">cancel
    </button>

  </ion-nav-buttons>
  <!--Content-->
  <ion-content class="ui-page auth login background" ng-init="nameinput=0" scroll="false">
    <!--Input list-->
    <div class=" list animated slideInRight">

      <form name="forms.userForm" ng-submit="forms.userForm.$valid && authentificate(user)" novalidate
            autocomplete="off" method="post">


        <!--Email-->
        <!--
                <p class="help-block">
                    {{server_error}}
                </p>
            -->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.email.$invalid && !forms.userForm.email.$error.required && forms.userForm.email.$touched) || server_error.email.length, 'selected-label': nameinput == 2 }">
          <span class="input-label">Email: *</span>
          <input autocomplete="off" autocorrect="off" autocapitalize="off" type="email" tabindex="1"
                 placeholder="johnsmith@email.com" required name="email" class="form-control ellipsis-on"
                 ng-model="user.email" ng-focus="nameinput=2; server_error.email=''" ng-blur="nameinput=0"> </label>
        <p ng-cloak ng-show="forms.userForm.email.$error.email && forms.userForm.email.$touched"  class="help-block">Enter a valid
          email.</p>
        <!--<p ng-show="forms.userForm.email.$error.required && forms.userForm.email.$touched" class="help-block">Email address is required.</p>-->
        <p ng-cloak ng-show="server_error.email.$required  && forms.userForm.email.$touched" ng-hide="!user.email"
           class="help-block">{{server_error.email}}</p>
        <!--Password-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.password.$invalid && !forms.userForm.password.$error.required && forms.userForm.password.$touched) || server_error.password.length, 'selected-label': nameinput == 4 }">
          <span class="input-label">Password: *</span>
          <input autocomplete="off" autocorrect="off" autocapitalize="off" type="password" tabindex="2"
                 placeholder="at least 6 charcters" required name="password" class="form-control"
                 ng-model="user.password" ng-minlength="6" ng-maxlength="20"
                 ng-focus="nameinput=4; server_error.password=''" ng-blur="nameinput=0"> </label>
        <!--<p ng-show="forms.userForm.password.$invalid && forms.userForm.password.$touched" class="help-block">You password is required.</p>-->
        <p ng-cloak ng-show="forms.userForm.password.$error.minlength" class="help-block">Password is too short - at least 6
          characters.</p>
        <p ng-cloak ng-show="forms.userForm.password.$error.maxlength" class="help-block">Passwords is too long - maximum 20
          characters.</p>
        <p ng-cloak ng-show="server_error.password" ng-hide="!user.password" class="help-block">{{server_error.password}}</p>
        <!--Submit button-->
        <div class="button-wrapper" ng-class="{'keyboard-open': nameinput != 0}">
          <p class="forgot-pass"><a href="#/forgotpass" class="uppercase assertive-color">forgot password</a></p>
          <button type="submit" class="button red-button activated"
                  ng-disabled="forms.userForm.$invalid || forms.userForm.$pristine"><span
            class="stable-color uppercase">log in</span></button>
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
