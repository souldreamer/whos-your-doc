<ion-view cache-view="false" view-title="SIGN UP" hide-back-button="true">
  <!--Header-->
  <ion-nav-buttons side="left">
    <button class="button button-clear button-assertive uppercase header-button"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-clear button-assertive uppercase header-button cancel" ng-click="cancel()">cancel
    </button>
  </ion-nav-buttons>
  <!--Content-->
  <ion-content class="ui-page auth background register" ng-init="nameinput=0">
    <!--Input list-->

    <div class=" list animated slideInRight">
      <form name="forms.userForm" ng-submit="authentificate(user)" novalidate autocomplete="off" method="post">

        <!--First and last name-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.firstName.$invalid && !forms.userForm.firstName.$error.required) && forms.userForm.firstName.$touched, 'selected-label': nameinput == 1}">
          <span class="input-label">First Name: *</span>

          <input value="{{firstName}}" autocomplete="off" autocorrect="off" autocapitalize="off" type="text"
                 tabindex="1" placeholder="John" name="firstName" class="form-control" ng-model="user.firstName"
                 ng-pattern='/^[a-zA-Z]{2,25}$/'
                 ng-focus="nameinput=1" ng-blur="nameinput=0" ng-maxlength="25" required> </label>

        <p ng-cloak
           ng-show="(forms.userForm.firstName.$error.maxlength && !forms.userForm.firstName.$error.required) && forms.userForm.firstName.$touched"
           class="help-block">Your name is too long - maximum 25 characters.</p>
        <p ng-cloak
           ng-show="(forms.userForm.firstName.$invalid && !forms.userForm.firstName.$error.required) && forms.userForm.firstName.$touched"
           class="help-block">Enter a valid name - no numbers, letters only.</p>
        <!--<p ng-show="forms.userForm.fullName.$invalid && forms.userForm.fullName.$touched" class="help-block">You name is required.</p>-->

        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.lastName.$invalid && !forms.userForm.lastName.$error.required) && forms.userForm.lastName.$touched, 'selected-label': nameinput == 2}">
          <span class="input-label">Last Name: *</span>

          <input value="{{lastName}}" autocomplete="off" autocorrect="off" autocapitalize="off" type="text" tabindex="2"
                 placeholder="Smith" name="lastName" class="form-control" ng-model="user.lastName"
                 ng-pattern='/^[a-zA-Z]{2,25}$/'
                 ng-focus="nameinput=2" ng-blur="nameinput=0" ng-maxlength="25" required> </label>

        <p ng-cloak
           ng-show="(forms.userForm.lastName.$error.maxlength && !forms.userForm.lastName.$error.required) && forms.userForm.lastName.$touched"
           class="help-block">Your name is too long - maximum 25 characters.</p>
        <p ng-cloak
           ng-show="(forms.userForm.lastName.$invalid && !forms.userForm.lastName.$error.required) && forms.userForm.lastName.$touched"
           class="help-block">Enter a valid name - no numbers, letters only.</p>
        <!--<p ng-show="forms.userForm.fullName.$invalid && forms.userForm.fullName.$touched" class="help-block">You name is required.</p>-->

        <!--Email-->
        <label class="item item-input"
               ng-class="{ 'has-error' : ((forms.userForm.email.$invalid && !forms.userForm.email.$error.required) && forms.userForm.email.$touched) || server_error.email.length, 'selected-label': nameinput == 3 }">
          <span class="input-label">Email: *</span>

          <input value="{{email}}" autocomplete="off" autocorrect="off" autocapitalize="off" type="email" tabindex="3"
                 placeholder="johnsmith@email.com" required name="email" class="form-control" ng-model="user.email"
                 ng-pattern='/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/'

                 ng-focus="nameinput=3; server_error.email = ''" ng-blur="nameinput=0"> </label>
        <p ng-cloak ng-show="forms.userForm.email.$error.email && forms.userForm.email.$touched" class="help-block">
          Enter a valid email.</p>
        <!--<p ng-show="forms.userForm.email.$error.required && forms.userForm.email.$touched" class="help-block">Email address is required.</p>-->
        <p ng-cloak ng-show="server_error.email" ng-hide="!user.email" class="help-block">{{server_error.email}}</p>

        <!--Mobile-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.mobile.$invalid && !forms.userForm.mobile.$error.required) && forms.userForm.mobile.$touched, 'selected-label': nameinput == 4 }">
          <span class="input-label">Mobile: *</span>

          <input value="{{mobile}}" autocomplete="off" autocorrect="off" autocapitalize="off" type="tel" tabindex="4"
                 placeholder="+40 722 334 456" required name="mobile" class="form-control" ng-model="user.mobile"
                 ng-pattern="/^([+])?([0-9]{0,3})?([-. ])?([0-9]{3})?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/"
                 ng-focus="nameinput=4" ng-blur="nameinput=0"> </label>

        <p ng-cloak
           ng-show="(forms.userForm.mobile.$invalid && !forms.userForm.mobile.$error.required) && forms.userForm.mobile.$touched"
           class="help-block">Enter a valid phone number.</p>

        <!--Password-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.password.$invalid && !forms.userForm.password.$error.required) && forms.userForm.password.$touched, 'selected-label': nameinput == 5 }">
          <span class="input-label">Password: *</span>
          <input value="{{password}}" autocomplete="off" autocorrect="off" autocapitalize="off" type="password"
                 tabindex="5" placeholder="at least 6 charcters" required name="password" class="form-control"
                 ng-pattern="/^\S*$/" ng-model="user.password" ng-minlength="6" ng-maxlength="20" ng-focus="nameinput=5"
                 ng-blur="nameinput=0"> </label>
        <!--<p ng-show="forms.userForm.password.$error.required && forms.userForm.password.$touched" class="help-block">You password is required.</p>-->
        <p ng-cloak ng-show="forms.userForm.password.$error.pattern" class="help-block">Password should not contain
          white spaces.</p>
        <p ng-cloak ng-show="forms.userForm.password.$error.minlength" class="help-block">Password is too short - at
          least 6 characters.</p>
        <p ng-cloak ng-show="forms.userForm.password.$error.maxlength" class="help-block">Passwords is too long -
          maximum 20 characters.</p>

        <ion-checkbox id="dropdown" name="dropdown" class="dropdown-display" ng-model="ModelData.dropdown">
          <span class="input-label span-label lowercase">I accept the terms and conditions *</span>
        </ion-checkbox>

        <!--Dropdown checkbox on company-->
        <!--<ion-checkbox id="dropdown" name="dropdown" class="dropdown-display" ng-model="ModelData.dropdown"> <span class="input-label span-label notexttransform">I want a company account</span> </ion-checkbox>-->
        <!--&lt;!&ndash;Show Dropdown&ndash;&gt;-->
        <!--<div class="form-group" ng-show="ModelData.dropdown">-->
        <!--&lt;!&ndash;Company Name&ndash;&gt;-->
        <!--<label class="item item-input animated fadeIn" ng-class="{ 'has-error' : (forms.userForm.companyName.$invalid && !forms.userForm.companyName.$error.required) && forms.userForm.companyName.$touched, 'selected-label': nameinput == 5}"> <span class="input-label">Company Name</span>-->
        <!--<input type="text" tabindex="5" placeholder="SC.APEX.SRL" name="companyName" class="form-control" ng-model="user.companyName" ng-focus="nameinput=5" ng-blur="nameinput=0" required> </label>-->
        <!--&lt;!&ndash;<p ng-show="forms.userForm.companyName.$invalid && forms.userForm.companyName.$touched" class="help-block ">You company name is required.</p>&ndash;&gt;-->
        <!--&lt;!&ndash;CUI/CIF&ndash;&gt;-->
        <!--<label class="item item-input animated fadeIn" ng-class="{ 'has-error' : (forms.userForm.cif.$invalid && !forms.userForm.cif.$error.required) && forms.userForm.cif.$touched, 'selected-label': nameinput == 6}"> <span class="input-label">CIF/CUI</span>-->
        <!--<input type="text" tabindex="6" placeholder="RO 188070" name="cif" class="form-control" ng-model="user.cif" ng-pattern="/^([A-Za-z]{0,2})?[ ]?([0-9]{0,9})?[ ]?([0-9]{1})$/" ng-focus="nameinput=6" ng-blur="nameinput=0" required> </label>-->
        <!--&lt;!&ndash;<p ng-show="forms.userForm.cif.$invalid && forms.userForm.cif.$touched" class="help-block">You CIF/CUI is required.</p>&ndash;&gt;-->
        <!--<p ng-show="forms.userForm.cif.$error.pattern && forms.userForm.cif.$touched" class="help-block">You CIF/CUI format is invalid.</p>-->
        <!--</div>-->

        <!--Submit button-->
        <div class="button-wrapper" ng-class="{ 'keyboard-open': nameinput != 0}">
          <button type="submit" class="button red-button"
                  ng-disabled="forms.userForm.firstName.$invalid || forms.userForm.lastName.$invalid || forms.userForm.email.$invalid || forms.userForm.mobile.$invalid || forms.userForm.password.$invalid || !ModelData.dropdown || forms.userForm.$invalid">
            <span class="stable-color uppercase">register</span>
          </button>
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
