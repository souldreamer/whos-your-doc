<ion-view view-title="MY ACCOUNT" hide-back-button="true">
  <!--Header-->
  <ion-nav-buttons side="left">
    <button class="button button-clear button-assertive uppercase header-button"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-clear button-assertive uppercase header-button cancel" ng-click="goBack()">cancel
    </button>
  </ion-nav-buttons>
  <!--Content-->
  <ion-content class="auth background register myaccount" ng-init="nameinput=0">
    <!--Input list-->

    <div class="list animated fadeInRight">
      <form name="forms.userForm" ng-submit="changeAccountInfo(user)" novalidate autocomplete="off" method="post">

        <div class="account-info">
          <p class="uppercase personal-info">edit personal information</p>
        </div>
        <!--First and last name-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.firstName.$invalid && !forms.userForm.firstName.$error.required) && forms.userForm.firstName.$touched, 'selected-label': nameinput == 1}">
          <span class="input-label">First Name: *</span>
          <input value="" autocomplete="off" autocorrect="off" autocapitalize="off" type="text" tabindex="1"
                 placeholder="John" name="firstName" class="form-control" ng-model="user.firstName"
                 ng-focus="nameinput=1" ng-blur="nameinput=0" required> </label>
        <!--<p ng-show="forms.userForm.fullName.$invalid && forms.userForm.fullName.$touched" class="help-block">You name is required.</p>-->

        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.lastName.$invalid && !forms.userForm.lastName.$error.required) && forms.userForm.lastName.$touched, 'selected-label': nameinput == 7}">
          <span class="input-label">Last Name: *</span>
          <input value="" autocomplete="off" autocorrect="off" autocapitalize="off" type="text" tabindex="7"
                 placeholder="Smith" name="lastName" class="form-control" ng-model="user.lastName"
                 ng-focus="nameinput=7" ng-blur="nameinput=0" required> </label>
        <!--<p ng-show="forms.userForm.fullName.$invalid && forms.userForm.fullName.$touched" class="help-block">You name is required.</p>-->

        <!--Email-->
        <label class="item item-input"
               ng-class="{ 'has-error' : ((forms.userForm.email.$invalid && !forms.userForm.email.$error.required) && forms.userForm.email.$touched) || server_error.email.length, 'selected-label': nameinput == 2 }">
          <span class="input-label">Email: *</span>
          <input value="" autocomplete="off" autocorrect="off" autocapitalize="off" type="email" tabindex="2"
                 placeholder="johnsmith@email.com" required name="email" class="form-control" ng-model="user.email"
                 ng-pattern='/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/'
                 ng-focus="nameinput=2; server_error.email = ''" ng-blur="nameinput=0"> </label>
        <p ng-cloak ng-show="forms.userForm.email.$error.email && forms.userForm.email.$touched" class="help-block">Enter a valid
          email.</p>
        <!--<p ng-show="forms.userForm.email.$error.required && forms.userForm.email.$touched" class="help-block">Email address is required.</p>-->
        <p ng-cloak ng-show="server_error.email" ng-hide="!user.email" class="help-block">{{server_error.email}}</p>

        <!--Mobile-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.mobile.$invalid && !forms.userForm.mobile.$error.required) && forms.userForm.mobile.$touched, 'selected-label': nameinput == 3 }">
          <span class="input-label">Mobile: *</span>
          <input value="" autocomplete="off" autocorrect="off" autocapitalize="off" type="tel" tabindex="3"
                 placeholder="+40 722 334 456" required name="mobile" class="form-control" ng-model="user.mobile"
                 ng-pattern="/^([+])?([0-9]{0,3})?([-. ])?([0-9]{3})?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/"
                 ng-focus="nameinput=3" ng-blur="nameinput=0"> </label>
        <p
          ng-cloak ng-show="(forms.userForm.mobile.$invalid && !forms.userForm.mobile.$error.required) && forms.userForm.mobile.$touched"
          class="help-block">Enter a valid phone number.</p>

        <!--&lt;!&ndash;old_Password&ndash;&gt;-->
        <!--<label class="item item-input" ng-class="{ 'has-error' : (forms.userForm.old_password.$invalid && !forms.userForm.old_password.$error.required) && forms.userForm.old_password.$touched, 'selected-label': nameinput == 7 }"> <span class="input-label">Old password</span>-->
        <!--<input autocomplete="off" autocorrect="off" autocapitalize="off" type="password" tabindex="4" placeholder="at least 6 charcters" required name="old_password" class="form-control" ng-pattern="/^\S*$/" ng-model="user.old_password" ng-minlength="6" ng-maxlength="20" ng-focus="nameinput=7" ng-blur="nameinput=0"> </label>-->
        <!--&lt;!&ndash;<p ng-show="forms.userForm.password.$error.required && forms.userForm.password.$touched" class="help-block">You password is required.</p>&ndash;&gt;-->
        <!--<p ng-show="forms.userForm.old_password.$error.pattern" class="help-block">Password should not contain white spaces.</p>-->
        <!--<p ng-show="forms.userForm.old_password.$error.minlength" class="help-block">Password is too short - at least 6 characters.</p>-->
        <!--<p ng-show="forms.userForm.old_password.$error.maxlength" class="help-block">Passwords is too long - maximum 20 characters.</p>-->


        <div class="account-info password-account">
          <p class="uppercase personal-info">change password</p>
        </div>


        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.password1.$invalid && !forms.userForm.password1.$error.required) && forms.userForm.password1.$touched && password_error, 'selected-label': nameinput == 6 }">
          <span class="input-label">Old Password: *</span>
          <input autocomplete="off" autocorrect="off" autocapitalize="off" type="password" tabindex="6"
                 placeholder="old password" required name="password1" class="form-control" ng-pattern="/^\S*$/"
                 ng-model="user.password1" ng-minlength="6" ng-maxlength="20" ng-focus="nameinput=6"
                 ng-blur="nameinput=0"> </label>

        <!--<p ng-show="forms.userForm.password.$error.required && forms.userForm.password.$touched" class="help-block">You password is required.</p>-->
        <p ng-cloak ng-show="forms.userForm.password1.$error.pattern" class="help-block">Password should not contain white
          spaces.</p>
        <p ng-cloak ng-show="password_error && forms.userForm.password1.$touched" ng-hide="!user.password1" class="help-block">
          {{password_error}}</p>
        <p ng-cloak ng-show="forms.userForm.password1.$error.minlength" class="help-block">Password is too short - at least 6
          characters.</p>
        <p ng-cloak ng-show="forms.userForm.password1.$error.maxlength" class="help-block">Passwords is too long - maximum 20
          characters.</p>

        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.password.$invalid && !forms.userForm.password.$error.required) && forms.userForm.password.$touched, 'selected-label': nameinput == 4 }">
          <span class="input-label">New Password:</span>
          <input autocomplete="off" autocorrect="off" autocapitalize="off" type="password" tabindex="5"
                 placeholder="at least 6 characters" required name="password" class="form-control" ng-pattern="/^\S*$/"
                 ng-model="user.password" ng-minlength="6" ng-maxlength="20" ng-focus="nameinput=4"
                 ng-blur="nameinput=0"> </label>
        <!--<p ng-show="forms.userForm.password.$error.required && forms.userForm.password.$touched" class="help-block">You password is required.</p>-->
        <p ng-cloak ng-show="forms.userForm.password.$error.pattern" class="help-block">Password should not contain white
          spaces.</p>
        <p ng-cloak ng-show="forms.userForm.password.$error.minlength" class="help-block">Password is too short - at least 6
          characters.</p>
        <p ng-cloak ng-show="forms.userForm.password.$error.maxlength" class="help-block">Passwords is too long - maximum 20
          characters.</p>

        <!--Confirm Password-->
        <label class="item item-input"
               ng-class="{ 'has-error' : (forms.userForm.password2.$invalid && !forms.userForm.password2.$error.required) && forms.userForm.password2.$touched && user.password !== user.password2, 'selected-label': nameinput == 5 }">
          <span class="input-label">Con. Password:</span>
          <input autocomplete="off" autocorrect="off" autocapitalize="off" type="password" tabindex="6"
                 placeholder="confirm password" name="password2" class="form-control" ng-pattern="/^\S*$/"
                 ng-model="user.password2" ng-minlength="6" ng-maxlength="20" ng-focus="nameinput=5"
                 ng-blur="nameinput=0"> </label>
        <!--<p ng-show="forms.userForm.password.$error.required && forms.userForm.password.$touched" class="help-block">You password is required.</p>-->
        <p ng-cloak ng-show="forms.userForm.password2.$error.pattern" class="help-block">Password should not contain white
          spaces.</p>
        <p ng-cloak ng-show="forms.userForm.password2.$error.minlength" class="help-block">Password is too short - at least 6
          characters.</p>
        <p ng-cloak ng-show="forms.userForm.password2.$error.maxlength" class="help-block">Passwords is too long - maximum 20
          characters.</p>
        <p ng-cloak ng-show="user.password !== user.password2 && !forms.userForm.password2.$error.required" class="help-block">
          Your password doesn't match.</p>

        <!--Dropdown checkbox on company-->
        <!--<ion-checkbox id="dropdown" name="dropdown" class="dropdown-display" ng-model="ModelData.dropdown"> <span class="input-label span-label notexttransform">I want a company account</span> </ion-checkbox>-->
        <!--&lt;!&ndash;Show Dropdown&ndash;&gt;-->
        <!--<div class="form-group" ng-show="ModelData.dropdown">-->
        <!--&lt;!&ndash;Company Name&ndash;&gt;-->
        <!--<label class="item item-input animated fadeIn" ng-class="{ 'has-error' : (forms.userForm.companyName.$invalid && !forms.userForm.companyName.$error.required) && forms.userForm.companyName.$touched, 'selected-label': nameinput == 5}"> <span class="input-label">Company Name</span>-->
        <!--<input type="text" tabindex="5" placeholder="SC.APEX.SRL" name="companyName" class="form-control" ng-model="user.companyName" ng-focus="nameinput=5" ng-blur="nameinput=0" required> </label>-->
        <!--&lt;!&ndash;<p ng-show="forms.userForm.companyName.$invalid && forms.userForm.companyName.$touched" class="help-block ">You company name is required.</p>&ndash;&gt;-->
        <!--&lt;!&ndash;CUI/CIF&ndash;&gt;-->
        <!--<label class="item item-input animated fadeIn" ng-class="{ 'has-error' : (forms.userForm.cif.$invalid && !forms.userForm.cif.$error.required) && forms.userForm.cif.$touched, 'selected-label': nameinput == 6}"> <span class="input-label">CIF/CUI</span>-->
        <!--<input type="text" tabindex="6" placeholder="RO 188070" name="cif" class="form-control" ng-model="user.cif" ng-pattern="/^([A-Za-z]{0,2})?[ ]?([0-9]{0,9})?[ ]?([0-9]{1})$/" ng-focus="nameinput=6" ng-blur="nameinput=0" required> </label>-->
        <!--&lt;!&ndash;<p ng-show="forms.userForm.cif.$invalid && forms.userForm.cif.$touched" class="help-block">You CIF/CUI is required.</p>&ndash;&gt;-->
        <!--<p ng-show="forms.userForm.cif.$error.pattern && forms.userForm.cif.$touched" class="help-block">You CIF/CUI format is invalid.</p>-->
        <!--</div>-->

        <!--Submit button-->
        <div class="button-wrapper"
             ng-class="{'short-top-margin': ModelData.dropdown, 'keyboard-open': nameinput != 0}">
          <button type="submit" class="button red-button"
                  ng-disabled="(forms.userForm.fullName.$invalid || forms.userForm.email.$invalid || forms.userForm.mobile.$invalid || forms.userForm.password1.$invalid) || user.password != user.password2">
            <span class="stable-color uppercase">save changes</span>
          </button>
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
